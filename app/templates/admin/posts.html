{% extends "admin/layout.html" %}

{% block content %}
  <a class="col-xs-12 col-md-offset-3 col-md-6 btn btn-info" href="{{ url_for('admin.new_post') }}">Create Post</a>
  <table class="table">
    <thead>
      <tr>
        <th class="col-xs-5 col-sm-5">Title</th>
        <th class="col-xs-4 col-sm-5">Tags</th>
        <th class="col-xs-3 col-sm-2">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for post in posts.items %}
        <tr>
          <td><a href="#">{{ post.title }}</a></td>
          <td>
            {% for tag in post.tags %}
              <span class="label label-primary">{{ tag.name }}</span>
            {% endfor %}
          </td>
          <td>
            <a class="col-xs-6 glyphicon glyphicon-pencil" href="{{ url_for('admin.edit_post', id=post.id, slug=post.slug) }}"></a>
            <a class="col-xs-6 glyphicon glyphicon-trash" href="{{ url_for('admin.delete_post', id=post.id) }}" onclick="return confirm('Are you sure?')"></a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="pull-left">
    {% if posts.has_prev %}
      <a class="btn btn-primary paginate-btn" href="{{ url_for('admin.show_posts', page=posts.prev_num) }}"><< Previous</a>
    {% else %}
      <a class="btn btn-default paginate-btn" href="#"><< Previous</a>
    {% endif %}
  </div>

  <div class="pull-right">
    {% if posts.has_next %}
      <a class="btn btn-primary paginate-btn" href="{{ url_for('admin.show_posts', page=posts.next_num) }}">Next >></a>
    {% else %}
      <a class="btn btn-default paginate-btn" href="#">Next >></a>
    {% endif %}
  </div>
{% endblock %}
